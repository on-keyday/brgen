// Code generated by json2cpp2
#pragma once
#include <cstdint>
#include <vector>
#include <array>
#include <optional>
#include <variant>

#include <binary/flags.h>
#include <binary/float.h>
#include <view/iovec.h>
#include <binary/number.h>
namespace brgen::vm {
    enum class Op2 {
        NOP = 0,
        TRSF = 1,
        LOAD_MEMORY = 2,
        STORE_MEMORY = 3,
        LOAD_IMMEDIATE = 4,
        ADD = 5,
        SUB = 6,
        MUL = 7,
        DIV = 8,
        MOD = 9,
        AND = 10,
        OR = 11,
        XOR = 12,
        NOT = 13,
        SHL = 14,
        SHR = 15,
        EQ = 16,
        NE = 17,
        LT = 18,
        LE = 19,
        INC = 20,
        DEC = 21,
        NEG = 22,
        JMP = 23,
        JMPIF = 24,
        CALL = 25,
        RET = 26,
        SYSCALL = 27,
        PUSH = 28,
        POP = 29,
        PUSH_IMMEDIATE = 30,
    };
    enum class Register {
        R0 = 0,
        R1 = 1,
        R2 = 2,
        R3 = 3,
        R4 = 4,
        R5 = 5,
        R6 = 6,
        R7 = 7,
        R8 = 8,
        R9 = 9,
        R10 = 10,
        R11 = 11,
        R12 = 12,
        R13 = 13,
        R14 = 14,
        R15 = 15,
        PC = 16,
    };
    struct MemoryLayout {
        std::uint64_t stack_size = 0;
        std::uint64_t data_size = 0;
        std::uint64_t code_size = 0;
        std::uint64_t entry_point = 0;
        MemoryLayout() {}
        bool encode(::futils::binary::writer& w) const;
        bool decode(::futils::binary::reader& r);
        static constexpr size_t fixed_header_size = 32;
    };
    inline bool MemoryLayout::encode(::futils::binary::writer& w) const {
        if (!::futils::binary::write_num(w, static_cast<std::uint64_t>((*this).stack_size), true)) {
            return false;
        }
        if (!::futils::binary::write_num(w, static_cast<std::uint64_t>((*this).data_size), true)) {
            return false;
        }
        if (!::futils::binary::write_num(w, static_cast<std::uint64_t>((*this).code_size), true)) {
            return false;
        }
        if (!::futils::binary::write_num(w, static_cast<std::uint64_t>((*this).entry_point), true)) {
            return false;
        }
        return true;
    }
    inline bool MemoryLayout::decode(::futils::binary::reader& r) {
        if (!::futils::binary::read_num(r, (*this).stack_size, true)) {
            return false;
        }
        if (!::futils::binary::read_num(r, (*this).data_size, true)) {
            return false;
        }
        if (!::futils::binary::read_num(r, (*this).code_size, true)) {
            return false;
        }
        if (!::futils::binary::read_num(r, (*this).entry_point, true)) {
            return false;
        }
        return true;
    }
    struct Op2Inst {
        Op2 op{};
        struct union_struct_2 {
        };
        std::variant<std::monostate, union_struct_2> union_variant_1;
        struct union_struct_5 {
            Register to{};
        };
        struct union_struct_6 {
            Register syscall_number{};
        };
        struct union_struct_7 {
            Register condition{};
            Register to{};
        };
        struct union_struct_8 {
            Register from{};
        };
        struct union_struct_9 {
            std::uint64_t immediate = 0;
        };
        struct union_struct_10 {
            Register from{};
            Register to{};
        };
        struct union_struct_11 {
            std::uint64_t immediate = 0;
            Register to{};
        };
        struct union_struct_12 {
            Register operand{};
            Register result{};
        };
        struct union_struct_13 {
            Register operand1{};
            Register operand2{};
            Register result{};
        };
        std::variant<std::monostate, union_struct_5, union_struct_6, union_struct_7, union_struct_8, union_struct_9, union_struct_10, union_struct_11, union_struct_12, union_struct_13> union_variant_4;
        std::optional<Register> condition() const {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                if (!std::holds_alternative<union_struct_7>(union_variant_4)) {
                    return std::nullopt;
                }
                return std::get<3>((*this).union_variant_4).condition;
            }
            return std::nullopt;
        }
        bool condition(const Register& v) {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return false;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return false;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                if (!std::holds_alternative<union_struct_7>(union_variant_4)) {
                    union_variant_4 = union_struct_7();
                }
                std::get<3>((*this).union_variant_4).condition = v;
                return true;
            }
            return false;
        }
        std::optional<Register> from() const {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::PUSH) == true) {
                if (!std::holds_alternative<union_struct_8>(union_variant_4)) {
                    return std::nullopt;
                }
                return std::get<4>((*this).union_variant_4).from;
            }
            if (((*this).op == Op2::PUSH_IMMEDIATE) == true) {
                return std::nullopt;
            }
            if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY)) == true) {
                if (!std::holds_alternative<union_struct_10>(union_variant_4)) {
                    return std::nullopt;
                }
                return std::get<6>((*this).union_variant_4).from;
            }
            return std::nullopt;
        }
        bool from(const Register& v) {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return false;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return false;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                return false;
            }
            if (((*this).op == Op2::PUSH) == true) {
                if (!std::holds_alternative<union_struct_8>(union_variant_4)) {
                    union_variant_4 = union_struct_8();
                }
                std::get<4>((*this).union_variant_4).from = v;
                return true;
            }
            if (((*this).op == Op2::PUSH_IMMEDIATE) == true) {
                return false;
            }
            if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY)) == true) {
                if (!std::holds_alternative<union_struct_10>(union_variant_4)) {
                    union_variant_4 = union_struct_10();
                }
                std::get<6>((*this).union_variant_4).from = v;
                return true;
            }
            return false;
        }
        std::optional<std::uint64_t> immediate() const {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::PUSH) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::PUSH_IMMEDIATE) == true) {
                if (!std::holds_alternative<union_struct_9>(union_variant_4)) {
                    return std::nullopt;
                }
                return std::get<5>((*this).union_variant_4).immediate;
            }
            if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY)) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::LOAD_IMMEDIATE) == true) {
                if (!std::holds_alternative<union_struct_11>(union_variant_4)) {
                    return std::nullopt;
                }
                return std::get<7>((*this).union_variant_4).immediate;
            }
            return std::nullopt;
        }
        bool immediate(const std::uint64_t& v) {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return false;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return false;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                return false;
            }
            if (((*this).op == Op2::PUSH) == true) {
                return false;
            }
            if (((*this).op == Op2::PUSH_IMMEDIATE) == true) {
                if (!std::holds_alternative<union_struct_9>(union_variant_4)) {
                    union_variant_4 = union_struct_9();
                }
                std::get<5>((*this).union_variant_4).immediate = v;
                return true;
            }
            if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY)) == true) {
                return false;
            }
            if (((*this).op == Op2::LOAD_IMMEDIATE) == true) {
                if (!std::holds_alternative<union_struct_11>(union_variant_4)) {
                    union_variant_4 = union_struct_11();
                }
                std::get<7>((*this).union_variant_4).immediate = v;
                return true;
            }
            return false;
        }
        std::optional<Register> operand() const {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::PUSH) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::PUSH_IMMEDIATE) == true) {
                return std::nullopt;
            }
            if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY)) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::LOAD_IMMEDIATE) == true) {
                return std::nullopt;
            }
            if ((((((*this).op == Op2::NOT) || ((*this).op == Op2::INC)) || ((*this).op == Op2::DEC)) || ((*this).op == Op2::NEG)) == true) {
                if (!std::holds_alternative<union_struct_12>(union_variant_4)) {
                    return std::nullopt;
                }
                return std::get<8>((*this).union_variant_4).operand;
            }
            return std::nullopt;
        }
        bool operand(const Register& v) {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return false;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return false;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                return false;
            }
            if (((*this).op == Op2::PUSH) == true) {
                return false;
            }
            if (((*this).op == Op2::PUSH_IMMEDIATE) == true) {
                return false;
            }
            if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY)) == true) {
                return false;
            }
            if (((*this).op == Op2::LOAD_IMMEDIATE) == true) {
                return false;
            }
            if ((((((*this).op == Op2::NOT) || ((*this).op == Op2::INC)) || ((*this).op == Op2::DEC)) || ((*this).op == Op2::NEG)) == true) {
                if (!std::holds_alternative<union_struct_12>(union_variant_4)) {
                    union_variant_4 = union_struct_12();
                }
                std::get<8>((*this).union_variant_4).operand = v;
                return true;
            }
            return false;
        }
        std::optional<Register> operand1() const {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::PUSH) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::PUSH_IMMEDIATE) == true) {
                return std::nullopt;
            }
            if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY)) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::LOAD_IMMEDIATE) == true) {
                return std::nullopt;
            }
            if ((((((*this).op == Op2::NOT) || ((*this).op == Op2::INC)) || ((*this).op == Op2::DEC)) || ((*this).op == Op2::NEG)) == true) {
                return std::nullopt;
            }
            if (!std::holds_alternative<union_struct_13>(union_variant_4)) {
                return std::nullopt;
            }
            return std::get<9>((*this).union_variant_4).operand1;
        }
        bool operand1(const Register& v) {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return false;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return false;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                return false;
            }
            if (((*this).op == Op2::PUSH) == true) {
                return false;
            }
            if (((*this).op == Op2::PUSH_IMMEDIATE) == true) {
                return false;
            }
            if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY)) == true) {
                return false;
            }
            if (((*this).op == Op2::LOAD_IMMEDIATE) == true) {
                return false;
            }
            if ((((((*this).op == Op2::NOT) || ((*this).op == Op2::INC)) || ((*this).op == Op2::DEC)) || ((*this).op == Op2::NEG)) == true) {
                return false;
            }
            if (!std::holds_alternative<union_struct_13>(union_variant_4)) {
                union_variant_4 = union_struct_13();
            }
            std::get<9>((*this).union_variant_4).operand1 = v;
            return true;
        }
        std::optional<Register> operand2() const {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::PUSH) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::PUSH_IMMEDIATE) == true) {
                return std::nullopt;
            }
            if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY)) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::LOAD_IMMEDIATE) == true) {
                return std::nullopt;
            }
            if ((((((*this).op == Op2::NOT) || ((*this).op == Op2::INC)) || ((*this).op == Op2::DEC)) || ((*this).op == Op2::NEG)) == true) {
                return std::nullopt;
            }
            if (!std::holds_alternative<union_struct_13>(union_variant_4)) {
                return std::nullopt;
            }
            return std::get<9>((*this).union_variant_4).operand2;
        }
        bool operand2(const Register& v) {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return false;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return false;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                return false;
            }
            if (((*this).op == Op2::PUSH) == true) {
                return false;
            }
            if (((*this).op == Op2::PUSH_IMMEDIATE) == true) {
                return false;
            }
            if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY)) == true) {
                return false;
            }
            if (((*this).op == Op2::LOAD_IMMEDIATE) == true) {
                return false;
            }
            if ((((((*this).op == Op2::NOT) || ((*this).op == Op2::INC)) || ((*this).op == Op2::DEC)) || ((*this).op == Op2::NEG)) == true) {
                return false;
            }
            if (!std::holds_alternative<union_struct_13>(union_variant_4)) {
                union_variant_4 = union_struct_13();
            }
            std::get<9>((*this).union_variant_4).operand2 = v;
            return true;
        }
        std::optional<Register> result() const {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::PUSH) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::PUSH_IMMEDIATE) == true) {
                return std::nullopt;
            }
            if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY)) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::LOAD_IMMEDIATE) == true) {
                return std::nullopt;
            }
            if ((((((*this).op == Op2::NOT) || ((*this).op == Op2::INC)) || ((*this).op == Op2::DEC)) || ((*this).op == Op2::NEG)) == true) {
                if (!std::holds_alternative<union_struct_12>(union_variant_4)) {
                    return std::nullopt;
                }
                return std::get<8>((*this).union_variant_4).result;
            }
            if (!std::holds_alternative<union_struct_13>(union_variant_4)) {
                return std::nullopt;
            }
            return std::get<9>((*this).union_variant_4).result;
        }
        bool result(const Register& v) {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return false;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return false;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                return false;
            }
            if (((*this).op == Op2::PUSH) == true) {
                return false;
            }
            if (((*this).op == Op2::PUSH_IMMEDIATE) == true) {
                return false;
            }
            if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY)) == true) {
                return false;
            }
            if (((*this).op == Op2::LOAD_IMMEDIATE) == true) {
                return false;
            }
            if ((((((*this).op == Op2::NOT) || ((*this).op == Op2::INC)) || ((*this).op == Op2::DEC)) || ((*this).op == Op2::NEG)) == true) {
                if (!std::holds_alternative<union_struct_12>(union_variant_4)) {
                    union_variant_4 = union_struct_12();
                }
                std::get<8>((*this).union_variant_4).result = v;
                return true;
            }
            if (!std::holds_alternative<union_struct_13>(union_variant_4)) {
                union_variant_4 = union_struct_13();
            }
            std::get<9>((*this).union_variant_4).result = v;
            return true;
        }
        std::optional<Register> syscall_number() const {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                if (!std::holds_alternative<union_struct_6>(union_variant_4)) {
                    return std::nullopt;
                }
                return std::get<2>((*this).union_variant_4).syscall_number;
            }
            return std::nullopt;
        }
        bool syscall_number(const Register& v) {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                return false;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                if (!std::holds_alternative<union_struct_6>(union_variant_4)) {
                    union_variant_4 = union_struct_6();
                }
                std::get<2>((*this).union_variant_4).syscall_number = v;
                return true;
            }
            return false;
        }
        std::optional<Register> to() const {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                if (!std::holds_alternative<union_struct_5>(union_variant_4)) {
                    return std::nullopt;
                }
                return std::get<1>((*this).union_variant_4).to;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                if (!std::holds_alternative<union_struct_7>(union_variant_4)) {
                    return std::nullopt;
                }
                return std::get<3>((*this).union_variant_4).to;
            }
            if (((*this).op == Op2::PUSH) == true) {
                return std::nullopt;
            }
            if (((*this).op == Op2::PUSH_IMMEDIATE) == true) {
                return std::nullopt;
            }
            if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY)) == true) {
                if (!std::holds_alternative<union_struct_10>(union_variant_4)) {
                    return std::nullopt;
                }
                return std::get<6>((*this).union_variant_4).to;
            }
            if (((*this).op == Op2::LOAD_IMMEDIATE) == true) {
                if (!std::holds_alternative<union_struct_11>(union_variant_4)) {
                    return std::nullopt;
                }
                return std::get<7>((*this).union_variant_4).to;
            }
            return std::nullopt;
        }
        bool to(const Register& v) {
            if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP)) == true) {
                if (!std::holds_alternative<union_struct_5>(union_variant_4)) {
                    union_variant_4 = union_struct_5();
                }
                std::get<1>((*this).union_variant_4).to = v;
                return true;
            }
            if (((*this).op == Op2::SYSCALL) == true) {
                return false;
            }
            if (((*this).op == Op2::JMPIF) == true) {
                if (!std::holds_alternative<union_struct_7>(union_variant_4)) {
                    union_variant_4 = union_struct_7();
                }
                std::get<3>((*this).union_variant_4).to = v;
                return true;
            }
            if (((*this).op == Op2::PUSH) == true) {
                return false;
            }
            if (((*this).op == Op2::PUSH_IMMEDIATE) == true) {
                return false;
            }
            if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY)) == true) {
                if (!std::holds_alternative<union_struct_10>(union_variant_4)) {
                    union_variant_4 = union_struct_10();
                }
                std::get<6>((*this).union_variant_4).to = v;
                return true;
            }
            if (((*this).op == Op2::LOAD_IMMEDIATE) == true) {
                if (!std::holds_alternative<union_struct_11>(union_variant_4)) {
                    union_variant_4 = union_struct_11();
                }
                std::get<7>((*this).union_variant_4).to = v;
                return true;
            }
            return false;
        }
        Op2Inst() {}
        bool encode(::futils::binary::writer& w) const;
        bool decode(::futils::binary::reader& r);
        static constexpr size_t fixed_header_size = 1;
    };
    inline bool Op2Inst::encode(::futils::binary::writer& w) const {
        auto tmp_14_ = static_cast<std::uint8_t>((*this).op);
        if (!::futils::binary::write_num(w, static_cast<std::uint8_t>(tmp_14_), true)) {
            return false;
        }
        if ((((*this).op == Op2::RET) || ((*this).op == Op2::NOP))) {
            if (!std::holds_alternative<union_struct_2>(union_variant_1)) {
                return false;
            }
        }
        if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP))) {
            if (!std::holds_alternative<union_struct_5>(union_variant_4)) {
                return false;
            }
            auto tmp_15_ = static_cast<std::uint8_t>(std::get<1>((*this).union_variant_4).to);
            if (!::futils::binary::write_num(w, static_cast<std::uint8_t>(tmp_15_), true)) {
                return false;
            }
        }
        else if (((*this).op == Op2::SYSCALL)) {
            if (!std::holds_alternative<union_struct_6>(union_variant_4)) {
                return false;
            }
            auto tmp_16_ = static_cast<std::uint8_t>(std::get<2>((*this).union_variant_4).syscall_number);
            if (!::futils::binary::write_num(w, static_cast<std::uint8_t>(tmp_16_), true)) {
                return false;
            }
        }
        else if (((*this).op == Op2::JMPIF)) {
            if (!std::holds_alternative<union_struct_7>(union_variant_4)) {
                return false;
            }
            auto tmp_17_ = static_cast<std::uint8_t>(std::get<3>((*this).union_variant_4).condition);
            if (!::futils::binary::write_num(w, static_cast<std::uint8_t>(tmp_17_), true)) {
                return false;
            }
            auto tmp_18_ = static_cast<std::uint8_t>(std::get<3>((*this).union_variant_4).to);
            if (!::futils::binary::write_num(w, static_cast<std::uint8_t>(tmp_18_), true)) {
                return false;
            }
        }
        else if (((*this).op == Op2::PUSH)) {
            if (!std::holds_alternative<union_struct_8>(union_variant_4)) {
                return false;
            }
            auto tmp_19_ = static_cast<std::uint8_t>(std::get<4>((*this).union_variant_4).from);
            if (!::futils::binary::write_num(w, static_cast<std::uint8_t>(tmp_19_), true)) {
                return false;
            }
        }
        else if (((*this).op == Op2::PUSH_IMMEDIATE)) {
            if (!std::holds_alternative<union_struct_9>(union_variant_4)) {
                return false;
            }
            if (!::futils::binary::write_num(w, static_cast<std::uint64_t>(std::get<5>((*this).union_variant_4).immediate), true)) {
                return false;
            }
        }
        else if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY))) {
            if (!std::holds_alternative<union_struct_10>(union_variant_4)) {
                return false;
            }
            auto tmp_20_ = static_cast<std::uint8_t>(std::get<6>((*this).union_variant_4).from);
            if (!::futils::binary::write_num(w, static_cast<std::uint8_t>(tmp_20_), true)) {
                return false;
            }
            auto tmp_21_ = static_cast<std::uint8_t>(std::get<6>((*this).union_variant_4).to);
            if (!::futils::binary::write_num(w, static_cast<std::uint8_t>(tmp_21_), true)) {
                return false;
            }
        }
        else if (((*this).op == Op2::LOAD_IMMEDIATE)) {
            if (!std::holds_alternative<union_struct_11>(union_variant_4)) {
                return false;
            }
            if (!::futils::binary::write_num(w, static_cast<std::uint64_t>(std::get<7>((*this).union_variant_4).immediate), true)) {
                return false;
            }
            auto tmp_22_ = static_cast<std::uint8_t>(std::get<7>((*this).union_variant_4).to);
            if (!::futils::binary::write_num(w, static_cast<std::uint8_t>(tmp_22_), true)) {
                return false;
            }
        }
        else if ((((((*this).op == Op2::NOT) || ((*this).op == Op2::INC)) || ((*this).op == Op2::DEC)) || ((*this).op == Op2::NEG))) {
            if (!std::holds_alternative<union_struct_12>(union_variant_4)) {
                return false;
            }
            auto tmp_23_ = static_cast<std::uint8_t>(std::get<8>((*this).union_variant_4).operand);
            if (!::futils::binary::write_num(w, static_cast<std::uint8_t>(tmp_23_), true)) {
                return false;
            }
            auto tmp_24_ = static_cast<std::uint8_t>(std::get<8>((*this).union_variant_4).result);
            if (!::futils::binary::write_num(w, static_cast<std::uint8_t>(tmp_24_), true)) {
                return false;
            }
        }
        else {
            if (!std::holds_alternative<union_struct_13>(union_variant_4)) {
                return false;
            }
            auto tmp_25_ = static_cast<std::uint8_t>(std::get<9>((*this).union_variant_4).operand1);
            if (!::futils::binary::write_num(w, static_cast<std::uint8_t>(tmp_25_), true)) {
                return false;
            }
            auto tmp_26_ = static_cast<std::uint8_t>(std::get<9>((*this).union_variant_4).operand2);
            if (!::futils::binary::write_num(w, static_cast<std::uint8_t>(tmp_26_), true)) {
                return false;
            }
            auto tmp_27_ = static_cast<std::uint8_t>(std::get<9>((*this).union_variant_4).result);
            if (!::futils::binary::write_num(w, static_cast<std::uint8_t>(tmp_27_), true)) {
                return false;
            }
        }
        return true;
    }
    inline bool Op2Inst::decode(::futils::binary::reader& r) {
        std::uint8_t tmp_28_ = 0;
        if (!::futils::binary::read_num(r, tmp_28_, true)) {
            return false;
        }
        (*this).op = static_cast<Op2>(tmp_28_);
        if ((((*this).op == Op2::RET) || ((*this).op == Op2::NOP))) {
            if (!std::holds_alternative<union_struct_2>(union_variant_1)) {
                union_variant_1 = union_struct_2();
            }
        }
        if (((((*this).op == Op2::JMP) || ((*this).op == Op2::CALL)) || ((*this).op == Op2::POP))) {
            if (!std::holds_alternative<union_struct_5>(union_variant_4)) {
                union_variant_4 = union_struct_5();
            }
            std::uint8_t tmp_29_ = 0;
            if (!::futils::binary::read_num(r, tmp_29_, true)) {
                return false;
            }
            std::get<1>((*this).union_variant_4).to = static_cast<Register>(tmp_29_);
        }
        else if (((*this).op == Op2::SYSCALL)) {
            if (!std::holds_alternative<union_struct_6>(union_variant_4)) {
                union_variant_4 = union_struct_6();
            }
            std::uint8_t tmp_30_ = 0;
            if (!::futils::binary::read_num(r, tmp_30_, true)) {
                return false;
            }
            std::get<2>((*this).union_variant_4).syscall_number = static_cast<Register>(tmp_30_);
        }
        else if (((*this).op == Op2::JMPIF)) {
            if (!std::holds_alternative<union_struct_7>(union_variant_4)) {
                union_variant_4 = union_struct_7();
            }
            std::uint8_t tmp_31_ = 0;
            if (!::futils::binary::read_num(r, tmp_31_, true)) {
                return false;
            }
            std::get<3>((*this).union_variant_4).condition = static_cast<Register>(tmp_31_);
            std::uint8_t tmp_32_ = 0;
            if (!::futils::binary::read_num(r, tmp_32_, true)) {
                return false;
            }
            std::get<3>((*this).union_variant_4).to = static_cast<Register>(tmp_32_);
        }
        else if (((*this).op == Op2::PUSH)) {
            if (!std::holds_alternative<union_struct_8>(union_variant_4)) {
                union_variant_4 = union_struct_8();
            }
            std::uint8_t tmp_33_ = 0;
            if (!::futils::binary::read_num(r, tmp_33_, true)) {
                return false;
            }
            std::get<4>((*this).union_variant_4).from = static_cast<Register>(tmp_33_);
        }
        else if (((*this).op == Op2::PUSH_IMMEDIATE)) {
            if (!std::holds_alternative<union_struct_9>(union_variant_4)) {
                union_variant_4 = union_struct_9();
            }
            if (!::futils::binary::read_num(r, std::get<5>((*this).union_variant_4).immediate, true)) {
                return false;
            }
        }
        else if (((((*this).op == Op2::TRSF) || ((*this).op == Op2::LOAD_MEMORY)) || ((*this).op == Op2::STORE_MEMORY))) {
            if (!std::holds_alternative<union_struct_10>(union_variant_4)) {
                union_variant_4 = union_struct_10();
            }
            std::uint8_t tmp_34_ = 0;
            if (!::futils::binary::read_num(r, tmp_34_, true)) {
                return false;
            }
            std::get<6>((*this).union_variant_4).from = static_cast<Register>(tmp_34_);
            std::uint8_t tmp_35_ = 0;
            if (!::futils::binary::read_num(r, tmp_35_, true)) {
                return false;
            }
            std::get<6>((*this).union_variant_4).to = static_cast<Register>(tmp_35_);
        }
        else if (((*this).op == Op2::LOAD_IMMEDIATE)) {
            if (!std::holds_alternative<union_struct_11>(union_variant_4)) {
                union_variant_4 = union_struct_11();
            }
            if (!::futils::binary::read_num(r, std::get<7>((*this).union_variant_4).immediate, true)) {
                return false;
            }
            std::uint8_t tmp_36_ = 0;
            if (!::futils::binary::read_num(r, tmp_36_, true)) {
                return false;
            }
            std::get<7>((*this).union_variant_4).to = static_cast<Register>(tmp_36_);
        }
        else if ((((((*this).op == Op2::NOT) || ((*this).op == Op2::INC)) || ((*this).op == Op2::DEC)) || ((*this).op == Op2::NEG))) {
            if (!std::holds_alternative<union_struct_12>(union_variant_4)) {
                union_variant_4 = union_struct_12();
            }
            std::uint8_t tmp_37_ = 0;
            if (!::futils::binary::read_num(r, tmp_37_, true)) {
                return false;
            }
            std::get<8>((*this).union_variant_4).operand = static_cast<Register>(tmp_37_);
            std::uint8_t tmp_38_ = 0;
            if (!::futils::binary::read_num(r, tmp_38_, true)) {
                return false;
            }
            std::get<8>((*this).union_variant_4).result = static_cast<Register>(tmp_38_);
        }
        else {
            if (!std::holds_alternative<union_struct_13>(union_variant_4)) {
                union_variant_4 = union_struct_13();
            }
            std::uint8_t tmp_39_ = 0;
            if (!::futils::binary::read_num(r, tmp_39_, true)) {
                return false;
            }
            std::get<9>((*this).union_variant_4).operand1 = static_cast<Register>(tmp_39_);
            std::uint8_t tmp_40_ = 0;
            if (!::futils::binary::read_num(r, tmp_40_, true)) {
                return false;
            }
            std::get<9>((*this).union_variant_4).operand2 = static_cast<Register>(tmp_40_);
            std::uint8_t tmp_41_ = 0;
            if (!::futils::binary::read_num(r, tmp_41_, true)) {
                return false;
            }
            std::get<9>((*this).union_variant_4).result = static_cast<Register>(tmp_41_);
        }
        return true;
    }
}  // namespace brgen::vm
