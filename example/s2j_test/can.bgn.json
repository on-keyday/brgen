{"success": true,"files": ["C:/workspace/shbrgen/brgen/example/can.bgn"],"ast": {"node":[{"node_type":"program","loc":{"pos":{"begin":0,"end":2},"file":1,"line":1,"col":1},"body":{"struct_type":1,"elements":[2],"global_scope":0}},{"node_type":"struct_type","loc":{"pos":{"begin":0,"end":2},"file":1,"line":1,"col":1},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":0,"fields":[2],"base":0,"recursive":false,"fixed_header_size":0,"fixed_tail_size":0}},{"node_type":"format","loc":{"pos":{"begin":2,"end":8},"file":1,"line":2,"col":1},"body":{"belong":null,"belong_struct":1,"ident":3,"body":4,"encode_fn":null,"decode_fn":null,"cast_fns":[],"depends":[],"state_variables":[]}},{"node_type":"ident","loc":{"pos":{"begin":9,"end":17},"file":1,"line":2,"col":8},"body":{"expr_type":null,"constant_level":"unknown","ident":"CANFrame","usage":"define_format","base":2,"scope":0}},{"node_type":"indent_block","loc":{"pos":{"begin":20,"end":24},"file":1,"line":3,"col":1},"body":{"struct_type":5,"elements":[6,9,12,15,62,33,36,39,44,47,50,53,56,59],"scope":1}},{"node_type":"struct_type","loc":{"pos":{"begin":20,"end":24},"file":1,"line":3,"col":1},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"bit_1","bit_size":null,"fields":[6,9,12,15,18,29,33,36,39,44,47,50,53,56,59],"base":2,"recursive":false,"fixed_header_size":14,"fixed_tail_size":28}},{"node_type":"field","loc":{"pos":{"begin":24,"end":27},"file":1,"line":3,"col":5},"body":{"belong":2,"belong_struct":5,"ident":7,"colon_loc":{"pos":{"begin":28,"end":29},"file":1,"line":3,"col":9},"is_state_variable":false,"field_type":8,"arguments":null,"offset_bit":0,"offset_recent":0,"tail_offset_bit":null,"tail_offset_recent":13,"bit_alignment":"bit_1","eventual_bit_alignment":"bit_1","follow":"fixed","eventual_follow":"normal","next":9}},{"node_type":"ident","loc":{"pos":{"begin":24,"end":27},"file":1,"line":3,"col":5},"body":{"expr_type":8,"constant_level":"variable","ident":"sof","usage":"define_field","base":6,"scope":1}},{"node_type":"int_type","loc":{"pos":{"begin":29,"end":31},"file":1,"line":3,"col":10},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_1","bit_size":1,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"field","loc":{"pos":{"begin":37,"end":39},"file":1,"line":4,"col":5},"body":{"belong":2,"belong_struct":5,"ident":10,"colon_loc":{"pos":{"begin":40,"end":41},"file":1,"line":4,"col":8},"is_state_variable":false,"field_type":11,"arguments":null,"offset_bit":1,"offset_recent":1,"tail_offset_bit":null,"tail_offset_recent":2,"bit_alignment":"bit_4","eventual_bit_alignment":"bit_1","follow":"fixed","eventual_follow":"normal","next":12}},{"node_type":"ident","loc":{"pos":{"begin":37,"end":39},"file":1,"line":4,"col":5},"body":{"expr_type":11,"constant_level":"variable","ident":"id","usage":"define_field","base":9,"scope":1}},{"node_type":"int_type","loc":{"pos":{"begin":41,"end":44},"file":1,"line":4,"col":9},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_3","bit_size":11,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"field","loc":{"pos":{"begin":50,"end":53},"file":1,"line":5,"col":5},"body":{"belong":2,"belong_struct":5,"ident":13,"colon_loc":{"pos":{"begin":54,"end":55},"file":1,"line":5,"col":9},"is_state_variable":false,"field_type":14,"arguments":null,"offset_bit":12,"offset_recent":12,"tail_offset_bit":null,"tail_offset_recent":1,"bit_alignment":"bit_5","eventual_bit_alignment":"bit_1","follow":"fixed","eventual_follow":"normal","next":15}},{"node_type":"ident","loc":{"pos":{"begin":50,"end":53},"file":1,"line":5,"col":5},"body":{"expr_type":14,"constant_level":"variable","ident":"rtr","usage":"define_field","base":12,"scope":1}},{"node_type":"int_type","loc":{"pos":{"begin":55,"end":57},"file":1,"line":5,"col":10},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_1","bit_size":1,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"field","loc":{"pos":{"begin":63,"end":66},"file":1,"line":6,"col":5},"body":{"belong":2,"belong_struct":5,"ident":16,"colon_loc":{"pos":{"begin":67,"end":68},"file":1,"line":6,"col":9},"is_state_variable":false,"field_type":17,"arguments":null,"offset_bit":13,"offset_recent":13,"tail_offset_bit":null,"tail_offset_recent":0,"bit_alignment":"bit_6","eventual_bit_alignment":"bit_1","follow":"normal","eventual_follow":"normal","next":18}},{"node_type":"ident","loc":{"pos":{"begin":63,"end":66},"file":1,"line":6,"col":5},"body":{"expr_type":17,"constant_level":"variable","ident":"ide","usage":"define_field","base":15,"scope":1}},{"node_type":"int_type","loc":{"pos":{"begin":68,"end":70},"file":1,"line":6,"col":10},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_1","bit_size":1,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"field","loc":{"pos":{"begin":76,"end":78},"file":1,"line":7,"col":5},"body":{"belong":2,"belong_struct":5,"ident":null,"colon_loc":{"pos":{"begin":0,"end":0},"file":0,"line":0,"col":0},"is_state_variable":false,"field_type":19,"arguments":null,"offset_bit":14,"offset_recent":14,"tail_offset_bit":null,"tail_offset_recent":5,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"fixed","eventual_follow":"normal","next":29}},{"node_type":"struct_union_type","loc":{"pos":{"begin":76,"end":78},"file":1,"line":7,"col":5},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"bit_2","bit_size":null,"cond":null,"conds":[20],"structs":[25],"base":62,"union_fields":[29],"exhaustive":false}},{"node_type":"identity","loc":{"pos":{"begin":83,"end":85},"file":1,"line":7,"col":12},"body":{"expr_type":21,"constant_level":"variable","expr":22}},{"node_type":"bool_type","loc":{"pos":{"begin":83,"end":85},"file":1,"line":7,"col":12},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":null}},{"node_type":"binary","loc":{"pos":{"begin":83,"end":85},"file":1,"line":7,"col":12},"body":{"expr_type":21,"constant_level":"variable","op":"==","left":23,"right":24}},{"node_type":"ident","loc":{"pos":{"begin":79,"end":82},"file":1,"line":7,"col":8},"body":{"expr_type":17,"constant_level":"variable","ident":"ide","usage":"reference","base":16,"scope":2}},{"node_type":"int_literal","loc":{"pos":{"begin":86,"end":87},"file":1,"line":7,"col":15},"body":{"expr_type":17,"constant_level":"constant","value":"1"}},{"node_type":"struct_type","loc":{"pos":{"begin":90,"end":98},"file":1,"line":8,"col":1},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"bit_2","bit_size":18,"fields":[26],"base":62,"recursive":false,"fixed_header_size":18,"fixed_tail_size":18}},{"node_type":"field","loc":{"pos":{"begin":98,"end":104},"file":1,"line":8,"col":9},"body":{"belong":2,"belong_struct":25,"ident":27,"colon_loc":{"pos":{"begin":105,"end":106},"file":1,"line":8,"col":16},"is_state_variable":false,"field_type":28,"arguments":null,"offset_bit":0,"offset_recent":0,"tail_offset_bit":0,"tail_offset_recent":0,"bit_alignment":"bit_2","eventual_bit_alignment":"bit_2","follow":"end","eventual_follow":"end","next":null}},{"node_type":"ident","loc":{"pos":{"begin":98,"end":104},"file":1,"line":8,"col":9},"body":{"expr_type":28,"constant_level":"variable","ident":"id_ext","usage":"define_field","base":26,"scope":3}},{"node_type":"int_type","loc":{"pos":{"begin":106,"end":109},"file":1,"line":8,"col":17},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_2","bit_size":18,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"field","loc":{"pos":{"begin":98,"end":104},"file":1,"line":8,"col":9},"body":{"belong":null,"belong_struct":5,"ident":30,"colon_loc":{"pos":{"begin":0,"end":0},"file":0,"line":0,"col":0},"is_state_variable":false,"field_type":31,"arguments":null,"offset_bit":null,"offset_recent":0,"tail_offset_bit":null,"tail_offset_recent":0,"bit_alignment":"not_target","eventual_bit_alignment":"not_target","follow":"unknown","eventual_follow":"unknown","next":33}},{"node_type":"ident","loc":{"pos":{"begin":98,"end":104},"file":1,"line":8,"col":9},"body":{"expr_type":31,"constant_level":"unknown","ident":"id_ext","usage":"define_field","base":29,"scope":4}},{"node_type":"union_type","loc":{"pos":{"begin":98,"end":104},"file":1,"line":8,"col":9},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"not_target","bit_size":18,"cond":null,"candidates":[32],"base_type":19,"common_type":28,"member_candidates":[]}},{"node_type":"union_candidate","loc":{"pos":{"begin":98,"end":104},"file":1,"line":8,"col":9},"body":{"cond":20,"field":26}},{"node_type":"field","loc":{"pos":{"begin":115,"end":118},"file":1,"line":9,"col":5},"body":{"belong":2,"belong_struct":5,"ident":34,"colon_loc":{"pos":{"begin":119,"end":120},"file":1,"line":9,"col":9},"is_state_variable":false,"field_type":35,"arguments":null,"offset_bit":null,"offset_recent":0,"tail_offset_bit":null,"tail_offset_recent":4,"bit_alignment":"bit_1","eventual_bit_alignment":"bit_1","follow":"fixed","eventual_follow":"normal","next":36}},{"node_type":"ident","loc":{"pos":{"begin":115,"end":118},"file":1,"line":9,"col":5},"body":{"expr_type":35,"constant_level":"variable","ident":"fdf","usage":"define_field","base":33,"scope":4}},{"node_type":"int_type","loc":{"pos":{"begin":120,"end":122},"file":1,"line":9,"col":10},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_1","bit_size":1,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"field","loc":{"pos":{"begin":128,"end":131},"file":1,"line":10,"col":5},"body":{"belong":2,"belong_struct":5,"ident":37,"colon_loc":{"pos":{"begin":132,"end":133},"file":1,"line":10,"col":9},"is_state_variable":false,"field_type":38,"arguments":null,"offset_bit":null,"offset_recent":1,"tail_offset_bit":null,"tail_offset_recent":0,"bit_alignment":"bit_5","eventual_bit_alignment":"bit_1","follow":"normal","eventual_follow":"normal","next":39}},{"node_type":"ident","loc":{"pos":{"begin":128,"end":131},"file":1,"line":10,"col":5},"body":{"expr_type":38,"constant_level":"variable","ident":"dlc","usage":"define_field","base":36,"scope":4}},{"node_type":"int_type","loc":{"pos":{"begin":133,"end":135},"file":1,"line":10,"col":10},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_4","bit_size":4,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"field","loc":{"pos":{"begin":141,"end":145},"file":1,"line":11,"col":5},"body":{"belong":2,"belong_struct":5,"ident":40,"colon_loc":{"pos":{"begin":146,"end":147},"file":1,"line":11,"col":10},"is_state_variable":false,"field_type":41,"arguments":null,"offset_bit":null,"offset_recent":5,"tail_offset_bit":28,"tail_offset_recent":28,"bit_alignment":"bit_5","eventual_bit_alignment":"bit_1","follow":"fixed","eventual_follow":"end","next":44}},{"node_type":"ident","loc":{"pos":{"begin":141,"end":145},"file":1,"line":11,"col":5},"body":{"expr_type":41,"constant_level":"variable","ident":"data","usage":"define_field","base":39,"scope":4}},{"node_type":"array_type","loc":{"pos":{"begin":147,"end":148},"file":1,"line":11,"col":11},"body":{"is_explicit":true,"non_dynamic_allocation":false,"bit_alignment":"byte_aligned","bit_size":null,"end_loc":{"pos":{"begin":151,"end":152},"file":1,"line":11,"col":15},"element_type":42,"length":43,"length_value":null,"is_bytes":true}},{"node_type":"int_type","loc":{"pos":{"begin":152,"end":154},"file":1,"line":11,"col":16},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":8,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"ident","loc":{"pos":{"begin":148,"end":151},"file":1,"line":11,"col":12},"body":{"expr_type":38,"constant_level":"variable","ident":"dlc","usage":"reference","base":37,"scope":4}},{"node_type":"field","loc":{"pos":{"begin":160,"end":163},"file":1,"line":12,"col":5},"body":{"belong":2,"belong_struct":5,"ident":45,"colon_loc":{"pos":{"begin":164,"end":165},"file":1,"line":12,"col":9},"is_state_variable":false,"field_type":46,"arguments":null,"offset_bit":null,"offset_recent":0,"tail_offset_bit":13,"tail_offset_recent":13,"bit_alignment":"bit_4","eventual_bit_alignment":"bit_1","follow":"fixed","eventual_follow":"end","next":47}},{"node_type":"ident","loc":{"pos":{"begin":160,"end":163},"file":1,"line":12,"col":5},"body":{"expr_type":46,"constant_level":"variable","ident":"crc","usage":"define_field","base":44,"scope":4}},{"node_type":"int_type","loc":{"pos":{"begin":165,"end":168},"file":1,"line":12,"col":10},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_7","bit_size":15,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"field","loc":{"pos":{"begin":174,"end":187},"file":1,"line":13,"col":5},"body":{"belong":2,"belong_struct":5,"ident":48,"colon_loc":{"pos":{"begin":188,"end":189},"file":1,"line":13,"col":19},"is_state_variable":false,"field_type":49,"arguments":null,"offset_bit":null,"offset_recent":15,"tail_offset_bit":12,"tail_offset_recent":12,"bit_alignment":"bit_5","eventual_bit_alignment":"bit_1","follow":"fixed","eventual_follow":"end","next":50}},{"node_type":"ident","loc":{"pos":{"begin":174,"end":187},"file":1,"line":13,"col":5},"body":{"expr_type":49,"constant_level":"variable","ident":"crc_delimiter","usage":"define_field","base":47,"scope":4}},{"node_type":"int_type","loc":{"pos":{"begin":189,"end":191},"file":1,"line":13,"col":20},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_1","bit_size":1,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"field","loc":{"pos":{"begin":197,"end":200},"file":1,"line":14,"col":5},"body":{"belong":2,"belong_struct":5,"ident":51,"colon_loc":{"pos":{"begin":201,"end":202},"file":1,"line":14,"col":9},"is_state_variable":false,"field_type":52,"arguments":null,"offset_bit":null,"offset_recent":16,"tail_offset_bit":11,"tail_offset_recent":11,"bit_alignment":"bit_6","eventual_bit_alignment":"bit_1","follow":"fixed","eventual_follow":"end","next":53}},{"node_type":"ident","loc":{"pos":{"begin":197,"end":200},"file":1,"line":14,"col":5},"body":{"expr_type":52,"constant_level":"variable","ident":"ack","usage":"define_field","base":50,"scope":4}},{"node_type":"int_type","loc":{"pos":{"begin":202,"end":204},"file":1,"line":14,"col":10},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_1","bit_size":1,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"field","loc":{"pos":{"begin":210,"end":223},"file":1,"line":15,"col":5},"body":{"belong":2,"belong_struct":5,"ident":54,"colon_loc":{"pos":{"begin":224,"end":225},"file":1,"line":15,"col":19},"is_state_variable":false,"field_type":55,"arguments":null,"offset_bit":null,"offset_recent":17,"tail_offset_bit":10,"tail_offset_recent":10,"bit_alignment":"bit_7","eventual_bit_alignment":"bit_1","follow":"fixed","eventual_follow":"end","next":56}},{"node_type":"ident","loc":{"pos":{"begin":210,"end":223},"file":1,"line":15,"col":5},"body":{"expr_type":55,"constant_level":"variable","ident":"ack_delimiter","usage":"define_field","base":53,"scope":4}},{"node_type":"int_type","loc":{"pos":{"begin":225,"end":227},"file":1,"line":15,"col":20},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_1","bit_size":1,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"field","loc":{"pos":{"begin":233,"end":236},"file":1,"line":16,"col":5},"body":{"belong":2,"belong_struct":5,"ident":57,"colon_loc":{"pos":{"begin":237,"end":238},"file":1,"line":16,"col":9},"is_state_variable":false,"field_type":58,"arguments":null,"offset_bit":null,"offset_recent":18,"tail_offset_bit":3,"tail_offset_recent":3,"bit_alignment":"bit_6","eventual_bit_alignment":"bit_1","follow":"fixed","eventual_follow":"end","next":59}},{"node_type":"ident","loc":{"pos":{"begin":233,"end":236},"file":1,"line":16,"col":5},"body":{"expr_type":58,"constant_level":"variable","ident":"eof","usage":"define_field","base":56,"scope":4}},{"node_type":"int_type","loc":{"pos":{"begin":238,"end":240},"file":1,"line":16,"col":10},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_7","bit_size":7,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"field","loc":{"pos":{"begin":246,"end":258},"file":1,"line":17,"col":5},"body":{"belong":2,"belong_struct":5,"ident":60,"colon_loc":{"pos":{"begin":259,"end":260},"file":1,"line":17,"col":18},"is_state_variable":false,"field_type":61,"arguments":null,"offset_bit":null,"offset_recent":25,"tail_offset_bit":0,"tail_offset_recent":0,"bit_alignment":"bit_1","eventual_bit_alignment":"bit_1","follow":"end","eventual_follow":"end","next":null}},{"node_type":"ident","loc":{"pos":{"begin":246,"end":258},"file":1,"line":17,"col":5},"body":{"expr_type":61,"constant_level":"variable","ident":"intermission","usage":"define_field","base":59,"scope":4}},{"node_type":"int_type","loc":{"pos":{"begin":260,"end":262},"file":1,"line":17,"col":19},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_3","bit_size":3,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"if","loc":{"pos":{"begin":76,"end":78},"file":1,"line":7,"col":5},"body":{"expr_type":63,"constant_level":"unknown","struct_union_type":19,"cond_scope":2,"cond":20,"then":64,"els":null}},{"node_type":"void_type","loc":{"pos":{"begin":76,"end":78},"file":1,"line":7,"col":5},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":null}},{"node_type":"indent_block","loc":{"pos":{"begin":90,"end":98},"file":1,"line":8,"col":1},"body":{"struct_type":25,"elements":[26],"scope":3}}],"scope":[{"owner":0,"ident":[3],"branch":1,"next":null,"prev":null,"branch_root":true},{"owner":2,"ident":[7,10,13,16],"branch":2,"next":4,"prev":0,"branch_root":true},{"owner":62,"ident":[23],"branch":3,"next":4,"prev":1,"branch_root":true},{"owner":62,"ident":[27],"branch":null,"next":4,"prev":2,"branch_root":true},{"owner":2,"ident":[30,34,37,40,43,45,48,51,54,57,60],"branch":null,"next":null,"prev":1,"branch_root":false}]},"error": null}