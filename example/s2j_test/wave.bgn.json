{"success": true,"files": ["C:/workspace/shbrgen/brgen/example/wave.bgn"],"ast": {"node":[{"node_type":"program","loc":{"pos":{"begin":0,"end":2},"file":1,"line":1,"col":1},"body":{"struct_type":1,"elements":[2,53],"global_scope":0}},{"node_type":"struct_type","loc":{"pos":{"begin":0,"end":2},"file":1,"line":1,"col":1},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":0,"fields":[2,53],"base":0,"recursive":false,"fixed_header_size":0,"fixed_tail_size":0}},{"node_type":"format","loc":{"pos":{"begin":2,"end":8},"file":1,"line":2,"col":1},"body":{"belong":null,"belong_struct":1,"ident":3,"body":4,"encode_fn":null,"decode_fn":null,"cast_fns":[],"depends":[],"state_variables":[]}},{"node_type":"ident","loc":{"pos":{"begin":9,"end":19},"file":1,"line":2,"col":8},"body":{"expr_type":null,"constant_level":"unknown","ident":"WaveHeader","usage":"define_format","base":2,"scope":0}},{"node_type":"indent_block","loc":{"pos":{"begin":22,"end":26},"file":1,"line":3,"col":1},"body":{"struct_type":5,"elements":[6,11,14,19,24,27,30,33,36,39,42,45,50],"scope":1}},{"node_type":"struct_type","loc":{"pos":{"begin":22,"end":26},"file":1,"line":3,"col":1},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":352,"fields":[6,11,14,19,24,27,30,33,36,39,42,45,50],"base":2,"recursive":false,"fixed_header_size":352,"fixed_tail_size":352}},{"node_type":"field","loc":{"pos":{"begin":26,"end":31},"file":1,"line":3,"col":5},"body":{"belong":2,"belong_struct":5,"ident":7,"colon_loc":{"pos":{"begin":32,"end":33},"file":1,"line":3,"col":11},"is_state_variable":false,"field_type":8,"arguments":null,"offset_bit":0,"offset_recent":0,"tail_offset_bit":320,"tail_offset_recent":320,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"fixed","eventual_follow":"constant","next":11}},{"node_type":"ident","loc":{"pos":{"begin":26,"end":31},"file":1,"line":3,"col":5},"body":{"expr_type":8,"constant_level":"variable","ident":"magic","usage":"define_field","base":6,"scope":1}},{"node_type":"str_literal_type","loc":{"pos":{"begin":33,"end":39},"file":1,"line":3,"col":12},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":32,"base":9,"strong_ref":9}},{"node_type":"str_literal","loc":{"pos":{"begin":33,"end":39},"file":1,"line":3,"col":12},"body":{"expr_type":10,"constant_level":"constant","value":"\"RIFF\"","length":4}},{"node_type":"str_literal_type","loc":{"pos":{"begin":33,"end":39},"file":1,"line":3,"col":12},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":32,"base":9,"strong_ref":null}},{"node_type":"field","loc":{"pos":{"begin":45,"end":54},"file":1,"line":4,"col":5},"body":{"belong":2,"belong_struct":5,"ident":12,"colon_loc":{"pos":{"begin":55,"end":56},"file":1,"line":4,"col":15},"is_state_variable":false,"field_type":13,"arguments":null,"offset_bit":32,"offset_recent":32,"tail_offset_bit":288,"tail_offset_recent":288,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"constant","eventual_follow":"constant","next":14}},{"node_type":"ident","loc":{"pos":{"begin":45,"end":54},"file":1,"line":4,"col":5},"body":{"expr_type":13,"constant_level":"variable","ident":"chunkSize","usage":"define_field","base":11,"scope":1}},{"node_type":"int_type","loc":{"pos":{"begin":56,"end":59},"file":1,"line":4,"col":16},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":32,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"field","loc":{"pos":{"begin":65,"end":71},"file":1,"line":5,"col":5},"body":{"belong":2,"belong_struct":5,"ident":15,"colon_loc":{"pos":{"begin":72,"end":73},"file":1,"line":5,"col":12},"is_state_variable":false,"field_type":16,"arguments":null,"offset_bit":64,"offset_recent":64,"tail_offset_bit":256,"tail_offset_recent":256,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"constant","eventual_follow":"constant","next":19}},{"node_type":"ident","loc":{"pos":{"begin":65,"end":71},"file":1,"line":5,"col":5},"body":{"expr_type":16,"constant_level":"variable","ident":"magic2","usage":"define_field","base":14,"scope":1}},{"node_type":"str_literal_type","loc":{"pos":{"begin":73,"end":79},"file":1,"line":5,"col":13},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":32,"base":17,"strong_ref":17}},{"node_type":"str_literal","loc":{"pos":{"begin":73,"end":79},"file":1,"line":5,"col":13},"body":{"expr_type":18,"constant_level":"constant","value":"\"WAVE\"","length":4}},{"node_type":"str_literal_type","loc":{"pos":{"begin":73,"end":79},"file":1,"line":5,"col":13},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":32,"base":17,"strong_ref":null}},{"node_type":"field","loc":{"pos":{"begin":85,"end":96},"file":1,"line":6,"col":5},"body":{"belong":2,"belong_struct":5,"ident":20,"colon_loc":{"pos":{"begin":97,"end":98},"file":1,"line":6,"col":17},"is_state_variable":false,"field_type":21,"arguments":null,"offset_bit":96,"offset_recent":96,"tail_offset_bit":224,"tail_offset_recent":224,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"fixed","eventual_follow":"constant","next":24}},{"node_type":"ident","loc":{"pos":{"begin":85,"end":96},"file":1,"line":6,"col":5},"body":{"expr_type":21,"constant_level":"variable","ident":"subChunk1Id","usage":"define_field","base":19,"scope":1}},{"node_type":"str_literal_type","loc":{"pos":{"begin":98,"end":104},"file":1,"line":6,"col":18},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":32,"base":22,"strong_ref":22}},{"node_type":"str_literal","loc":{"pos":{"begin":98,"end":104},"file":1,"line":6,"col":18},"body":{"expr_type":23,"constant_level":"constant","value":"\"fmt \"","length":4}},{"node_type":"str_literal_type","loc":{"pos":{"begin":98,"end":104},"file":1,"line":6,"col":18},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":32,"base":22,"strong_ref":null}},{"node_type":"field","loc":{"pos":{"begin":110,"end":123},"file":1,"line":7,"col":5},"body":{"belong":2,"belong_struct":5,"ident":25,"colon_loc":{"pos":{"begin":124,"end":125},"file":1,"line":7,"col":19},"is_state_variable":false,"field_type":26,"arguments":null,"offset_bit":128,"offset_recent":128,"tail_offset_bit":192,"tail_offset_recent":192,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"fixed","eventual_follow":"constant","next":27}},{"node_type":"ident","loc":{"pos":{"begin":110,"end":123},"file":1,"line":7,"col":5},"body":{"expr_type":26,"constant_level":"variable","ident":"subChunk1Size","usage":"define_field","base":24,"scope":1}},{"node_type":"int_type","loc":{"pos":{"begin":125,"end":128},"file":1,"line":7,"col":20},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":32,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"field","loc":{"pos":{"begin":134,"end":145},"file":1,"line":8,"col":5},"body":{"belong":2,"belong_struct":5,"ident":28,"colon_loc":{"pos":{"begin":146,"end":147},"file":1,"line":8,"col":17},"is_state_variable":false,"field_type":29,"arguments":null,"offset_bit":160,"offset_recent":160,"tail_offset_bit":176,"tail_offset_recent":176,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"fixed","eventual_follow":"constant","next":30}},{"node_type":"ident","loc":{"pos":{"begin":134,"end":145},"file":1,"line":8,"col":5},"body":{"expr_type":29,"constant_level":"variable","ident":"audioFormat","usage":"define_field","base":27,"scope":1}},{"node_type":"int_type","loc":{"pos":{"begin":147,"end":150},"file":1,"line":8,"col":18},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":16,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"field","loc":{"pos":{"begin":156,"end":167},"file":1,"line":9,"col":5},"body":{"belong":2,"belong_struct":5,"ident":31,"colon_loc":{"pos":{"begin":168,"end":169},"file":1,"line":9,"col":17},"is_state_variable":false,"field_type":32,"arguments":null,"offset_bit":176,"offset_recent":176,"tail_offset_bit":160,"tail_offset_recent":160,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"fixed","eventual_follow":"constant","next":33}},{"node_type":"ident","loc":{"pos":{"begin":156,"end":167},"file":1,"line":9,"col":5},"body":{"expr_type":32,"constant_level":"variable","ident":"numChannels","usage":"define_field","base":30,"scope":1}},{"node_type":"int_type","loc":{"pos":{"begin":169,"end":172},"file":1,"line":9,"col":18},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":16,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"field","loc":{"pos":{"begin":178,"end":188},"file":1,"line":10,"col":5},"body":{"belong":2,"belong_struct":5,"ident":34,"colon_loc":{"pos":{"begin":189,"end":190},"file":1,"line":10,"col":16},"is_state_variable":false,"field_type":35,"arguments":null,"offset_bit":192,"offset_recent":192,"tail_offset_bit":128,"tail_offset_recent":128,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"fixed","eventual_follow":"constant","next":36}},{"node_type":"ident","loc":{"pos":{"begin":178,"end":188},"file":1,"line":10,"col":5},"body":{"expr_type":35,"constant_level":"variable","ident":"sampleRate","usage":"define_field","base":33,"scope":1}},{"node_type":"int_type","loc":{"pos":{"begin":190,"end":193},"file":1,"line":10,"col":17},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":32,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"field","loc":{"pos":{"begin":199,"end":207},"file":1,"line":11,"col":5},"body":{"belong":2,"belong_struct":5,"ident":37,"colon_loc":{"pos":{"begin":208,"end":209},"file":1,"line":11,"col":14},"is_state_variable":false,"field_type":38,"arguments":null,"offset_bit":224,"offset_recent":224,"tail_offset_bit":96,"tail_offset_recent":96,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"fixed","eventual_follow":"constant","next":39}},{"node_type":"ident","loc":{"pos":{"begin":199,"end":207},"file":1,"line":11,"col":5},"body":{"expr_type":38,"constant_level":"variable","ident":"byteRate","usage":"define_field","base":36,"scope":1}},{"node_type":"int_type","loc":{"pos":{"begin":209,"end":212},"file":1,"line":11,"col":15},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":32,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"field","loc":{"pos":{"begin":218,"end":228},"file":1,"line":12,"col":5},"body":{"belong":2,"belong_struct":5,"ident":40,"colon_loc":{"pos":{"begin":229,"end":230},"file":1,"line":12,"col":16},"is_state_variable":false,"field_type":41,"arguments":null,"offset_bit":256,"offset_recent":256,"tail_offset_bit":80,"tail_offset_recent":80,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"fixed","eventual_follow":"constant","next":42}},{"node_type":"ident","loc":{"pos":{"begin":218,"end":228},"file":1,"line":12,"col":5},"body":{"expr_type":41,"constant_level":"variable","ident":"blockAlign","usage":"define_field","base":39,"scope":1}},{"node_type":"int_type","loc":{"pos":{"begin":230,"end":233},"file":1,"line":12,"col":17},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":16,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"field","loc":{"pos":{"begin":239,"end":252},"file":1,"line":13,"col":5},"body":{"belong":2,"belong_struct":5,"ident":43,"colon_loc":{"pos":{"begin":253,"end":254},"file":1,"line":13,"col":19},"is_state_variable":false,"field_type":44,"arguments":null,"offset_bit":272,"offset_recent":272,"tail_offset_bit":64,"tail_offset_recent":64,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"constant","eventual_follow":"constant","next":45}},{"node_type":"ident","loc":{"pos":{"begin":239,"end":252},"file":1,"line":13,"col":5},"body":{"expr_type":44,"constant_level":"variable","ident":"bitsPerSample","usage":"define_field","base":42,"scope":1}},{"node_type":"int_type","loc":{"pos":{"begin":254,"end":257},"file":1,"line":13,"col":20},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":16,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"field","loc":{"pos":{"begin":263,"end":274},"file":1,"line":14,"col":5},"body":{"belong":2,"belong_struct":5,"ident":46,"colon_loc":{"pos":{"begin":275,"end":276},"file":1,"line":14,"col":17},"is_state_variable":false,"field_type":47,"arguments":null,"offset_bit":288,"offset_recent":288,"tail_offset_bit":32,"tail_offset_recent":32,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"fixed","eventual_follow":"end","next":50}},{"node_type":"ident","loc":{"pos":{"begin":263,"end":274},"file":1,"line":14,"col":5},"body":{"expr_type":47,"constant_level":"variable","ident":"subChunk2Id","usage":"define_field","base":45,"scope":1}},{"node_type":"str_literal_type","loc":{"pos":{"begin":276,"end":282},"file":1,"line":14,"col":18},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":32,"base":48,"strong_ref":48}},{"node_type":"str_literal","loc":{"pos":{"begin":276,"end":282},"file":1,"line":14,"col":18},"body":{"expr_type":49,"constant_level":"constant","value":"\"data\"","length":4}},{"node_type":"str_literal_type","loc":{"pos":{"begin":276,"end":282},"file":1,"line":14,"col":18},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":32,"base":48,"strong_ref":null}},{"node_type":"field","loc":{"pos":{"begin":288,"end":301},"file":1,"line":15,"col":5},"body":{"belong":2,"belong_struct":5,"ident":51,"colon_loc":{"pos":{"begin":302,"end":303},"file":1,"line":15,"col":19},"is_state_variable":false,"field_type":52,"arguments":null,"offset_bit":320,"offset_recent":320,"tail_offset_bit":0,"tail_offset_recent":0,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"end","eventual_follow":"end","next":null}},{"node_type":"ident","loc":{"pos":{"begin":288,"end":301},"file":1,"line":15,"col":5},"body":{"expr_type":52,"constant_level":"variable","ident":"subChunk2Size","usage":"define_field","base":50,"scope":1}},{"node_type":"int_type","loc":{"pos":{"begin":303,"end":306},"file":1,"line":15,"col":20},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":32,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"format","loc":{"pos":{"begin":310,"end":316},"file":1,"line":17,"col":1},"body":{"belong":null,"belong_struct":1,"ident":54,"body":55,"encode_fn":null,"decode_fn":null,"cast_fns":[],"depends":[59],"state_variables":[]}},{"node_type":"ident","loc":{"pos":{"begin":317,"end":321},"file":1,"line":17,"col":8},"body":{"expr_type":null,"constant_level":"unknown","ident":"Wave","usage":"define_format","base":53,"scope":2}},{"node_type":"indent_block","loc":{"pos":{"begin":324,"end":328},"file":1,"line":18,"col":1},"body":{"struct_type":56,"elements":[57,61],"scope":3}},{"node_type":"struct_type","loc":{"pos":{"begin":324,"end":328},"file":1,"line":18,"col":1},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"byte_aligned","bit_size":null,"fields":[57,61],"base":53,"recursive":false,"fixed_header_size":352,"fixed_tail_size":0}},{"node_type":"field","loc":{"pos":{"begin":328,"end":334},"file":1,"line":18,"col":5},"body":{"belong":53,"belong_struct":56,"ident":58,"colon_loc":{"pos":{"begin":335,"end":336},"file":1,"line":18,"col":12},"is_state_variable":false,"field_type":59,"arguments":null,"offset_bit":0,"offset_recent":0,"tail_offset_bit":null,"tail_offset_recent":0,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"normal","eventual_follow":"normal","next":61}},{"node_type":"ident","loc":{"pos":{"begin":328,"end":334},"file":1,"line":18,"col":5},"body":{"expr_type":59,"constant_level":"variable","ident":"header","usage":"define_field","base":57,"scope":3}},{"node_type":"ident_type","loc":{"pos":{"begin":336,"end":346},"file":1,"line":18,"col":13},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":352,"import_ref":null,"ident":60,"base":5}},{"node_type":"ident","loc":{"pos":{"begin":336,"end":346},"file":1,"line":18,"col":13},"body":{"expr_type":null,"constant_level":"unknown","ident":"WaveHeader","usage":"reference_type","base":3,"scope":3}},{"node_type":"field","loc":{"pos":{"begin":352,"end":356},"file":1,"line":19,"col":5},"body":{"belong":53,"belong_struct":56,"ident":62,"colon_loc":{"pos":{"begin":357,"end":358},"file":1,"line":19,"col":10},"is_state_variable":false,"field_type":63,"arguments":null,"offset_bit":352,"offset_recent":352,"tail_offset_bit":0,"tail_offset_recent":0,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"end","eventual_follow":"end","next":null}},{"node_type":"ident","loc":{"pos":{"begin":352,"end":356},"file":1,"line":19,"col":5},"body":{"expr_type":63,"constant_level":"variable","ident":"data","usage":"define_field","base":61,"scope":3}},{"node_type":"array_type","loc":{"pos":{"begin":358,"end":359},"file":1,"line":19,"col":11},"body":{"is_explicit":true,"non_dynamic_allocation":false,"bit_alignment":"byte_aligned","bit_size":null,"end_loc":{"pos":{"begin":379,"end":380},"file":1,"line":19,"col":32},"element_type":64,"length":65,"length_value":null,"is_bytes":true}},{"node_type":"int_type","loc":{"pos":{"begin":380,"end":382},"file":1,"line":19,"col":33},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":8,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"member_access","loc":{"pos":{"begin":365,"end":366},"file":1,"line":19,"col":18},"body":{"expr_type":52,"constant_level":"unknown","target":66,"member":67,"base":51}},{"node_type":"ident","loc":{"pos":{"begin":359,"end":365},"file":1,"line":19,"col":12},"body":{"expr_type":59,"constant_level":"variable","ident":"header","usage":"reference","base":58,"scope":3}},{"node_type":"ident","loc":{"pos":{"begin":366,"end":379},"file":1,"line":19,"col":19},"body":{"expr_type":null,"constant_level":"unknown","ident":"subChunk2Size","usage":"reference_member","base":65,"scope":null}}],"scope":[{"owner":0,"ident":[3],"branch":1,"next":2,"prev":null,"branch_root":true},{"owner":2,"ident":[7,12,15,20,25,28,31,34,37,40,43,46,51],"branch":null,"next":2,"prev":0,"branch_root":true},{"owner":0,"ident":[54],"branch":3,"next":null,"prev":0,"branch_root":false},{"owner":53,"ident":[58,62,66],"branch":null,"next":null,"prev":2,"branch_root":true}]},"error": null}