{"success": true,"files": ["C:/workspace/shbrgen/brgen/example/impromptu_app_protocol.bgn"],"ast": {"node":[{"node_type":"program","loc":{"pos":{"begin":0,"end":2},"file":1,"line":1,"col":1},"body":{"struct_type":1,"elements":[2,54,68],"global_scope":0}},{"node_type":"struct_type","loc":{"pos":{"begin":0,"end":2},"file":1,"line":1,"col":1},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":0,"fields":[2,54,68],"base":0,"recursive":false,"fixed_header_size":0,"fixed_tail_size":0}},{"node_type":"enum","loc":{"pos":{"begin":2,"end":6},"file":1,"line":2,"col":1},"body":{"belong":null,"belong_struct":1,"ident":3,"scope":1,"colon_loc":{"pos":{"begin":0,"end":0},"file":0,"line":0,"col":0},"base_type":4,"members":[5,10,14,18,22,26,30,34,38,42,46,50],"enum_type":7}},{"node_type":"ident","loc":{"pos":{"begin":7,"end":24},"file":1,"line":2,"col":6},"body":{"expr_type":null,"constant_level":"unknown","ident":"AppProtocolStatus","usage":"define_enum","base":2,"scope":0}},{"node_type":"int_type","loc":{"pos":{"begin":32,"end":34},"file":1,"line":3,"col":6},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":8,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"enum_member","loc":{"pos":{"begin":40,"end":45},"file":1,"line":4,"col":5},"body":{"belong":2,"belong_struct":null,"ident":6,"raw_expr":8,"value":8,"str_literal":null}},{"node_type":"ident","loc":{"pos":{"begin":40,"end":45},"file":1,"line":4,"col":5},"body":{"expr_type":7,"constant_level":"constant","ident":"start","usage":"define_enum_member","base":5,"scope":1}},{"node_type":"enum_type","loc":{"pos":{"begin":2,"end":6},"file":1,"line":2,"col":1},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":8,"base":2}},{"node_type":"int_literal","loc":{"pos":{"begin":48,"end":49},"file":1,"line":4,"col":13},"body":{"expr_type":9,"constant_level":"constant","value":"0"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":48,"end":49},"file":1,"line":4,"col":13},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":1,"base":8}},{"node_type":"enum_member","loc":{"pos":{"begin":55,"end":61},"file":1,"line":5,"col":5},"body":{"belong":2,"belong_struct":null,"ident":11,"raw_expr":12,"value":12,"str_literal":null}},{"node_type":"ident","loc":{"pos":{"begin":55,"end":61},"file":1,"line":5,"col":5},"body":{"expr_type":7,"constant_level":"constant","ident":"middle","usage":"define_enum_member","base":10,"scope":1}},{"node_type":"int_literal","loc":{"pos":{"begin":64,"end":65},"file":1,"line":5,"col":14},"body":{"expr_type":13,"constant_level":"constant","value":"1"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":64,"end":65},"file":1,"line":5,"col":14},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":1,"base":12}},{"node_type":"enum_member","loc":{"pos":{"begin":71,"end":74},"file":1,"line":6,"col":5},"body":{"belong":2,"belong_struct":null,"ident":15,"raw_expr":16,"value":16,"str_literal":null}},{"node_type":"ident","loc":{"pos":{"begin":71,"end":74},"file":1,"line":6,"col":5},"body":{"expr_type":7,"constant_level":"constant","ident":"end","usage":"define_enum_member","base":14,"scope":1}},{"node_type":"int_literal","loc":{"pos":{"begin":77,"end":78},"file":1,"line":6,"col":11},"body":{"expr_type":17,"constant_level":"constant","value":"2"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":77,"end":78},"file":1,"line":6,"col":11},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":1,"base":16}},{"node_type":"enum_member","loc":{"pos":{"begin":84,"end":88},"file":1,"line":7,"col":5},"body":{"belong":2,"belong_struct":null,"ident":19,"raw_expr":20,"value":20,"str_literal":null}},{"node_type":"ident","loc":{"pos":{"begin":84,"end":88},"file":1,"line":7,"col":5},"body":{"expr_type":7,"constant_level":"constant","ident":"once","usage":"define_enum_member","base":18,"scope":1}},{"node_type":"int_literal","loc":{"pos":{"begin":91,"end":92},"file":1,"line":7,"col":12},"body":{"expr_type":21,"constant_level":"constant","value":"3"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":91,"end":92},"file":1,"line":7,"col":12},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":1,"base":20}},{"node_type":"enum_member","loc":{"pos":{"begin":98,"end":105},"file":1,"line":8,"col":5},"body":{"belong":2,"belong_struct":null,"ident":23,"raw_expr":24,"value":24,"str_literal":null}},{"node_type":"ident","loc":{"pos":{"begin":98,"end":105},"file":1,"line":8,"col":5},"body":{"expr_type":7,"constant_level":"constant","ident":"control","usage":"define_enum_member","base":22,"scope":1}},{"node_type":"int_literal","loc":{"pos":{"begin":108,"end":109},"file":1,"line":8,"col":15},"body":{"expr_type":25,"constant_level":"constant","value":"4"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":108,"end":109},"file":1,"line":8,"col":15},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":3,"base":24}},{"node_type":"enum_member","loc":{"pos":{"begin":115,"end":124},"file":1,"line":9,"col":5},"body":{"belong":2,"belong_struct":null,"ident":27,"raw_expr":28,"value":28,"str_literal":null}},{"node_type":"ident","loc":{"pos":{"begin":115,"end":124},"file":1,"line":9,"col":5},"body":{"expr_type":7,"constant_level":"constant","ident":"fileWatch","usage":"define_enum_member","base":26,"scope":1}},{"node_type":"int_literal","loc":{"pos":{"begin":127,"end":128},"file":1,"line":9,"col":17},"body":{"expr_type":29,"constant_level":"constant","value":"5"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":127,"end":128},"file":1,"line":9,"col":17},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":3,"base":28}},{"node_type":"enum_member","loc":{"pos":{"begin":134,"end":149},"file":1,"line":10,"col":5},"body":{"belong":2,"belong_struct":null,"ident":31,"raw_expr":32,"value":32,"str_literal":null}},{"node_type":"ident","loc":{"pos":{"begin":134,"end":149},"file":1,"line":10,"col":5},"body":{"expr_type":7,"constant_level":"constant","ident":"fileRequestList","usage":"define_enum_member","base":30,"scope":1}},{"node_type":"int_literal","loc":{"pos":{"begin":152,"end":153},"file":1,"line":10,"col":23},"body":{"expr_type":33,"constant_level":"constant","value":"6"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":152,"end":153},"file":1,"line":10,"col":23},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":3,"base":32}},{"node_type":"enum_member","loc":{"pos":{"begin":159,"end":175},"file":1,"line":11,"col":5},"body":{"belong":2,"belong_struct":null,"ident":35,"raw_expr":36,"value":36,"str_literal":null}},{"node_type":"ident","loc":{"pos":{"begin":159,"end":175},"file":1,"line":11,"col":5},"body":{"expr_type":7,"constant_level":"constant","ident":"fileRequestWrite","usage":"define_enum_member","base":34,"scope":1}},{"node_type":"int_literal","loc":{"pos":{"begin":178,"end":179},"file":1,"line":11,"col":24},"body":{"expr_type":37,"constant_level":"constant","value":"7"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":178,"end":179},"file":1,"line":11,"col":24},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":3,"base":36}},{"node_type":"enum_member","loc":{"pos":{"begin":185,"end":200},"file":1,"line":12,"col":5},"body":{"belong":2,"belong_struct":null,"ident":39,"raw_expr":40,"value":40,"str_literal":null}},{"node_type":"ident","loc":{"pos":{"begin":185,"end":200},"file":1,"line":12,"col":5},"body":{"expr_type":7,"constant_level":"constant","ident":"fileRequestRead","usage":"define_enum_member","base":38,"scope":1}},{"node_type":"int_literal","loc":{"pos":{"begin":203,"end":204},"file":1,"line":12,"col":23},"body":{"expr_type":41,"constant_level":"constant","value":"8"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":203,"end":204},"file":1,"line":12,"col":23},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":4,"base":40}},{"node_type":"enum_member","loc":{"pos":{"begin":210,"end":225},"file":1,"line":13,"col":5},"body":{"belong":2,"belong_struct":null,"ident":43,"raw_expr":44,"value":44,"str_literal":null}},{"node_type":"ident","loc":{"pos":{"begin":210,"end":225},"file":1,"line":13,"col":5},"body":{"expr_type":7,"constant_level":"constant","ident":"fileAcceptWrite","usage":"define_enum_member","base":42,"scope":1}},{"node_type":"int_literal","loc":{"pos":{"begin":228,"end":229},"file":1,"line":13,"col":23},"body":{"expr_type":45,"constant_level":"constant","value":"9"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":228,"end":229},"file":1,"line":13,"col":23},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":4,"base":44}},{"node_type":"enum_member","loc":{"pos":{"begin":235,"end":249},"file":1,"line":14,"col":5},"body":{"belong":2,"belong_struct":null,"ident":47,"raw_expr":48,"value":48,"str_literal":null}},{"node_type":"ident","loc":{"pos":{"begin":235,"end":249},"file":1,"line":14,"col":5},"body":{"expr_type":7,"constant_level":"constant","ident":"fileAcceptRead","usage":"define_enum_member","base":46,"scope":1}},{"node_type":"int_literal","loc":{"pos":{"begin":252,"end":254},"file":1,"line":14,"col":22},"body":{"expr_type":49,"constant_level":"constant","value":"10"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":252,"end":254},"file":1,"line":14,"col":22},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":4,"base":48}},{"node_type":"enum_member","loc":{"pos":{"begin":260,"end":269},"file":1,"line":15,"col":5},"body":{"belong":2,"belong_struct":null,"ident":51,"raw_expr":52,"value":52,"str_literal":null}},{"node_type":"ident","loc":{"pos":{"begin":260,"end":269},"file":1,"line":15,"col":5},"body":{"expr_type":7,"constant_level":"constant","ident":"fileError","usage":"define_enum_member","base":50,"scope":1}},{"node_type":"int_literal","loc":{"pos":{"begin":272,"end":274},"file":1,"line":15,"col":17},"body":{"expr_type":53,"constant_level":"constant","value":"11"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":272,"end":274},"file":1,"line":15,"col":17},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":4,"base":52}},{"node_type":"format","loc":{"pos":{"begin":278,"end":284},"file":1,"line":17,"col":1},"body":{"belong":null,"belong_struct":1,"ident":55,"body":56,"encode_fn":null,"decode_fn":null,"cast_fns":[],"depends":[63],"state_variables":[]}},{"node_type":"ident","loc":{"pos":{"begin":285,"end":302},"file":1,"line":17,"col":8},"body":{"expr_type":null,"constant_level":"unknown","ident":"AppProtocolHeader","usage":"define_format","base":54,"scope":2}},{"node_type":"indent_block","loc":{"pos":{"begin":305,"end":309},"file":1,"line":18,"col":1},"body":{"struct_type":57,"elements":[58,61,65],"scope":3}},{"node_type":"struct_type","loc":{"pos":{"begin":305,"end":309},"file":1,"line":18,"col":1},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":72,"fields":[58,61,65],"base":54,"recursive":false,"fixed_header_size":72,"fixed_tail_size":72}},{"node_type":"field","loc":{"pos":{"begin":309,"end":311},"file":1,"line":18,"col":5},"body":{"belong":54,"belong_struct":57,"ident":59,"colon_loc":{"pos":{"begin":312,"end":313},"file":1,"line":18,"col":8},"is_state_variable":false,"field_type":60,"arguments":null,"offset_bit":0,"offset_recent":0,"tail_offset_bit":40,"tail_offset_recent":40,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"fixed","eventual_follow":"end","next":61}},{"node_type":"ident","loc":{"pos":{"begin":309,"end":311},"file":1,"line":18,"col":5},"body":{"expr_type":60,"constant_level":"variable","ident":"id","usage":"define_field","base":58,"scope":3}},{"node_type":"int_type","loc":{"pos":{"begin":313,"end":316},"file":1,"line":18,"col":9},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":32,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"field","loc":{"pos":{"begin":322,"end":328},"file":1,"line":19,"col":5},"body":{"belong":54,"belong_struct":57,"ident":62,"colon_loc":{"pos":{"begin":329,"end":330},"file":1,"line":19,"col":12},"is_state_variable":false,"field_type":63,"arguments":null,"offset_bit":32,"offset_recent":32,"tail_offset_bit":32,"tail_offset_recent":32,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"fixed","eventual_follow":"end","next":65}},{"node_type":"ident","loc":{"pos":{"begin":322,"end":328},"file":1,"line":19,"col":5},"body":{"expr_type":63,"constant_level":"variable","ident":"status","usage":"define_field","base":61,"scope":3}},{"node_type":"ident_type","loc":{"pos":{"begin":330,"end":347},"file":1,"line":19,"col":13},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":8,"import_ref":null,"ident":64,"base":7}},{"node_type":"ident","loc":{"pos":{"begin":330,"end":347},"file":1,"line":19,"col":13},"body":{"expr_type":null,"constant_level":"unknown","ident":"AppProtocolStatus","usage":"reference_type","base":3,"scope":3}},{"node_type":"field","loc":{"pos":{"begin":353,"end":358},"file":1,"line":20,"col":5},"body":{"belong":54,"belong_struct":57,"ident":66,"colon_loc":{"pos":{"begin":359,"end":360},"file":1,"line":20,"col":11},"is_state_variable":false,"field_type":67,"arguments":null,"offset_bit":40,"offset_recent":40,"tail_offset_bit":0,"tail_offset_recent":0,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"end","eventual_follow":"end","next":null}},{"node_type":"ident","loc":{"pos":{"begin":353,"end":358},"file":1,"line":20,"col":5},"body":{"expr_type":67,"constant_level":"variable","ident":"order","usage":"define_field","base":65,"scope":3}},{"node_type":"int_type","loc":{"pos":{"begin":360,"end":363},"file":1,"line":20,"col":12},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":32,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"format","loc":{"pos":{"begin":367,"end":373},"file":1,"line":22,"col":1},"body":{"belong":null,"belong_struct":1,"ident":69,"body":70,"encode_fn":null,"decode_fn":null,"cast_fns":[],"depends":[74],"state_variables":[]}},{"node_type":"ident","loc":{"pos":{"begin":374,"end":385},"file":1,"line":22,"col":8},"body":{"expr_type":null,"constant_level":"unknown","ident":"AppProtocol","usage":"define_format","base":68,"scope":4}},{"node_type":"indent_block","loc":{"pos":{"begin":388,"end":392},"file":1,"line":23,"col":1},"body":{"struct_type":71,"elements":[72,76],"scope":5}},{"node_type":"struct_type","loc":{"pos":{"begin":388,"end":392},"file":1,"line":23,"col":1},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"byte_aligned","bit_size":null,"fields":[72,76],"base":68,"recursive":false,"fixed_header_size":72,"fixed_tail_size":0}},{"node_type":"field","loc":{"pos":{"begin":392,"end":398},"file":1,"line":23,"col":5},"body":{"belong":68,"belong_struct":71,"ident":73,"colon_loc":{"pos":{"begin":399,"end":400},"file":1,"line":23,"col":12},"is_state_variable":false,"field_type":74,"arguments":null,"offset_bit":0,"offset_recent":0,"tail_offset_bit":null,"tail_offset_recent":0,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"normal","eventual_follow":"normal","next":76}},{"node_type":"ident","loc":{"pos":{"begin":392,"end":398},"file":1,"line":23,"col":5},"body":{"expr_type":74,"constant_level":"variable","ident":"header","usage":"define_field","base":72,"scope":5}},{"node_type":"ident_type","loc":{"pos":{"begin":400,"end":417},"file":1,"line":23,"col":13},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":72,"import_ref":null,"ident":75,"base":57}},{"node_type":"ident","loc":{"pos":{"begin":400,"end":417},"file":1,"line":23,"col":13},"body":{"expr_type":null,"constant_level":"unknown","ident":"AppProtocolHeader","usage":"reference_type","base":55,"scope":5}},{"node_type":"field","loc":{"pos":{"begin":423,"end":427},"file":1,"line":24,"col":5},"body":{"belong":68,"belong_struct":71,"ident":77,"colon_loc":{"pos":{"begin":428,"end":429},"file":1,"line":24,"col":10},"is_state_variable":false,"field_type":78,"arguments":null,"offset_bit":72,"offset_recent":72,"tail_offset_bit":0,"tail_offset_recent":0,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"end","eventual_follow":"end","next":null}},{"node_type":"ident","loc":{"pos":{"begin":423,"end":427},"file":1,"line":24,"col":5},"body":{"expr_type":78,"constant_level":"variable","ident":"data","usage":"define_field","base":76,"scope":5}},{"node_type":"array_type","loc":{"pos":{"begin":429,"end":430},"file":1,"line":24,"col":11},"body":{"is_explicit":true,"non_dynamic_allocation":false,"bit_alignment":"byte_aligned","bit_size":null,"end_loc":{"pos":{"begin":432,"end":433},"file":1,"line":24,"col":14},"element_type":79,"length":80,"length_value":null,"is_bytes":true}},{"node_type":"int_type","loc":{"pos":{"begin":433,"end":435},"file":1,"line":24,"col":15},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":8,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"range","loc":{"pos":{"begin":430,"end":432},"file":1,"line":24,"col":12},"body":{"expr_type":81,"constant_level":"variable","op":"..","start":null,"end":null}},{"node_type":"range_type","loc":{"pos":{"begin":430,"end":432},"file":1,"line":24,"col":12},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":null,"base_type":null,"range":80}}],"scope":[{"owner":0,"ident":[3],"branch":1,"next":2,"prev":null,"branch_root":true},{"owner":2,"ident":[6,11,15,19,23,27,31,35,39,43,47,51],"branch":null,"next":2,"prev":0,"branch_root":true},{"owner":0,"ident":[55],"branch":3,"next":4,"prev":0,"branch_root":false},{"owner":54,"ident":[59,62,66],"branch":null,"next":4,"prev":2,"branch_root":true},{"owner":0,"ident":[69],"branch":5,"next":null,"prev":2,"branch_root":false},{"owner":68,"ident":[73,77],"branch":null,"next":null,"prev":4,"branch_root":true}]},"error": null}