{"success": true,"files": ["C:/workspace/shbrgen/brgen/example/quic_varint.bgn"],"ast": {"node":[{"node_type":"program","loc":{"pos":{"begin":0,"end":2},"file":1,"line":1,"col":1},"body":{"struct_type":1,"elements":[2],"global_scope":0}},{"node_type":"struct_type","loc":{"pos":{"begin":0,"end":2},"file":1,"line":1,"col":1},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":0,"fields":[2],"base":0,"recursive":false,"fixed_header_size":0,"fixed_tail_size":0}},{"node_type":"format","loc":{"pos":{"begin":2,"end":8},"file":1,"line":2,"col":1},"body":{"belong":null,"belong_struct":1,"ident":3,"body":4,"encode_fn":null,"decode_fn":null,"cast_fns":[48],"depends":[],"state_variables":[]}},{"node_type":"ident","loc":{"pos":{"begin":9,"end":15},"file":1,"line":2,"col":8},"body":{"expr_type":null,"constant_level":"unknown","ident":"VarInt","usage":"define_format","base":2,"scope":0}},{"node_type":"indent_block","loc":{"pos":{"begin":18,"end":21},"file":1,"line":3,"col":1},"body":{"struct_type":5,"elements":[6,56,48],"scope":1}},{"node_type":"struct_type","loc":{"pos":{"begin":18,"end":21},"file":1,"line":3,"col":1},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":null,"fields":[6,9,41,48],"base":2,"recursive":false,"fixed_header_size":2,"fixed_tail_size":0}},{"node_type":"field","loc":{"pos":{"begin":21,"end":27},"file":1,"line":3,"col":4},"body":{"belong":2,"belong_struct":5,"ident":7,"colon_loc":{"pos":{"begin":28,"end":29},"file":1,"line":3,"col":11},"is_state_variable":false,"field_type":8,"arguments":null,"offset_bit":0,"offset_recent":0,"tail_offset_bit":null,"tail_offset_recent":0,"bit_alignment":"bit_2","eventual_bit_alignment":"byte_aligned","follow":"normal","eventual_follow":"normal","next":9}},{"node_type":"ident","loc":{"pos":{"begin":21,"end":27},"file":1,"line":3,"col":4},"body":{"expr_type":8,"constant_level":"variable","ident":"prefix","usage":"define_field","base":6,"scope":1}},{"node_type":"int_type","loc":{"pos":{"begin":29,"end":31},"file":1,"line":3,"col":12},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_2","bit_size":2,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"field","loc":{"pos":{"begin":36,"end":41},"file":1,"line":4,"col":4},"body":{"belong":2,"belong_struct":5,"ident":null,"colon_loc":{"pos":{"begin":0,"end":0},"file":0,"line":0,"col":0},"is_state_variable":false,"field_type":10,"arguments":null,"offset_bit":2,"offset_recent":2,"tail_offset_bit":0,"tail_offset_recent":0,"bit_alignment":"byte_aligned","eventual_bit_alignment":"byte_aligned","follow":"end","eventual_follow":"end","next":41}},{"node_type":"struct_union_type","loc":{"pos":{"begin":36,"end":41},"file":1,"line":4,"col":4},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"bit_6","bit_size":null,"cond":11,"conds":[13,16,19,22],"structs":[25,29,33,37],"base":56,"union_fields":[41],"exhaustive":true}},{"node_type":"identity","loc":{"pos":{"begin":42,"end":48},"file":1,"line":4,"col":10},"body":{"expr_type":8,"constant_level":"variable","expr":12}},{"node_type":"ident","loc":{"pos":{"begin":42,"end":48},"file":1,"line":4,"col":10},"body":{"expr_type":8,"constant_level":"variable","ident":"prefix","usage":"reference","base":7,"scope":2}},{"node_type":"identity","loc":{"pos":{"begin":57,"end":58},"file":1,"line":5,"col":7},"body":{"expr_type":8,"constant_level":"constant","expr":14}},{"node_type":"int_literal","loc":{"pos":{"begin":57,"end":58},"file":1,"line":5,"col":7},"body":{"expr_type":15,"constant_level":"constant","value":"0"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":57,"end":58},"file":1,"line":5,"col":7},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":1,"base":14}},{"node_type":"identity","loc":{"pos":{"begin":79,"end":80},"file":1,"line":6,"col":7},"body":{"expr_type":8,"constant_level":"constant","expr":17}},{"node_type":"int_literal","loc":{"pos":{"begin":79,"end":80},"file":1,"line":6,"col":7},"body":{"expr_type":18,"constant_level":"constant","value":"1"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":79,"end":80},"file":1,"line":6,"col":7},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":1,"base":17}},{"node_type":"identity","loc":{"pos":{"begin":102,"end":103},"file":1,"line":7,"col":7},"body":{"expr_type":8,"constant_level":"constant","expr":20}},{"node_type":"int_literal","loc":{"pos":{"begin":102,"end":103},"file":1,"line":7,"col":7},"body":{"expr_type":21,"constant_level":"constant","value":"2"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":102,"end":103},"file":1,"line":7,"col":7},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":1,"base":20}},{"node_type":"identity","loc":{"pos":{"begin":125,"end":126},"file":1,"line":8,"col":7},"body":{"expr_type":8,"constant_level":"constant","expr":23}},{"node_type":"int_literal","loc":{"pos":{"begin":125,"end":126},"file":1,"line":8,"col":7},"body":{"expr_type":24,"constant_level":"constant","value":"3"}},{"node_type":"int_literal_type","loc":{"pos":{"begin":125,"end":126},"file":1,"line":8,"col":7},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":1,"base":23}},{"node_type":"struct_type","loc":{"pos":{"begin":59,"end":61},"file":1,"line":5,"col":9},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"bit_6","bit_size":6,"fields":[26],"base":58,"recursive":false,"fixed_header_size":6,"fixed_tail_size":6}},{"node_type":"field","loc":{"pos":{"begin":62,"end":67},"file":1,"line":5,"col":12},"body":{"belong":2,"belong_struct":25,"ident":27,"colon_loc":{"pos":{"begin":68,"end":69},"file":1,"line":5,"col":18},"is_state_variable":false,"field_type":28,"arguments":null,"offset_bit":0,"offset_recent":0,"tail_offset_bit":0,"tail_offset_recent":0,"bit_alignment":"bit_6","eventual_bit_alignment":"bit_6","follow":"end","eventual_follow":"end","next":null}},{"node_type":"ident","loc":{"pos":{"begin":62,"end":67},"file":1,"line":5,"col":12},"body":{"expr_type":28,"constant_level":"variable","ident":"value","usage":"define_field","base":26,"scope":3}},{"node_type":"int_type","loc":{"pos":{"begin":69,"end":71},"file":1,"line":5,"col":19},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_6","bit_size":6,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"struct_type","loc":{"pos":{"begin":81,"end":83},"file":1,"line":6,"col":9},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"bit_6","bit_size":14,"fields":[30],"base":60,"recursive":false,"fixed_header_size":14,"fixed_tail_size":14}},{"node_type":"field","loc":{"pos":{"begin":84,"end":89},"file":1,"line":6,"col":12},"body":{"belong":2,"belong_struct":29,"ident":31,"colon_loc":{"pos":{"begin":90,"end":91},"file":1,"line":6,"col":18},"is_state_variable":false,"field_type":32,"arguments":null,"offset_bit":0,"offset_recent":0,"tail_offset_bit":0,"tail_offset_recent":0,"bit_alignment":"bit_6","eventual_bit_alignment":"bit_6","follow":"end","eventual_follow":"end","next":null}},{"node_type":"ident","loc":{"pos":{"begin":84,"end":89},"file":1,"line":6,"col":12},"body":{"expr_type":32,"constant_level":"variable","ident":"value","usage":"define_field","base":30,"scope":5}},{"node_type":"int_type","loc":{"pos":{"begin":91,"end":94},"file":1,"line":6,"col":19},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_6","bit_size":14,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"struct_type","loc":{"pos":{"begin":104,"end":106},"file":1,"line":7,"col":9},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"bit_6","bit_size":30,"fields":[34],"base":62,"recursive":false,"fixed_header_size":30,"fixed_tail_size":30}},{"node_type":"field","loc":{"pos":{"begin":107,"end":112},"file":1,"line":7,"col":12},"body":{"belong":2,"belong_struct":33,"ident":35,"colon_loc":{"pos":{"begin":113,"end":114},"file":1,"line":7,"col":18},"is_state_variable":false,"field_type":36,"arguments":null,"offset_bit":0,"offset_recent":0,"tail_offset_bit":0,"tail_offset_recent":0,"bit_alignment":"bit_6","eventual_bit_alignment":"bit_6","follow":"end","eventual_follow":"end","next":null}},{"node_type":"ident","loc":{"pos":{"begin":107,"end":112},"file":1,"line":7,"col":12},"body":{"expr_type":36,"constant_level":"variable","ident":"value","usage":"define_field","base":34,"scope":7}},{"node_type":"int_type","loc":{"pos":{"begin":114,"end":117},"file":1,"line":7,"col":19},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_6","bit_size":30,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"struct_type","loc":{"pos":{"begin":127,"end":129},"file":1,"line":8,"col":9},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"bit_6","bit_size":62,"fields":[38],"base":64,"recursive":false,"fixed_header_size":62,"fixed_tail_size":62}},{"node_type":"field","loc":{"pos":{"begin":130,"end":135},"file":1,"line":8,"col":12},"body":{"belong":2,"belong_struct":37,"ident":39,"colon_loc":{"pos":{"begin":136,"end":137},"file":1,"line":8,"col":18},"is_state_variable":false,"field_type":40,"arguments":null,"offset_bit":0,"offset_recent":0,"tail_offset_bit":0,"tail_offset_recent":0,"bit_alignment":"bit_6","eventual_bit_alignment":"bit_6","follow":"end","eventual_follow":"end","next":null}},{"node_type":"ident","loc":{"pos":{"begin":130,"end":135},"file":1,"line":8,"col":12},"body":{"expr_type":40,"constant_level":"variable","ident":"value","usage":"define_field","base":38,"scope":9}},{"node_type":"int_type","loc":{"pos":{"begin":137,"end":140},"file":1,"line":8,"col":19},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"bit_6","bit_size":62,"endian":"unspec","is_signed":false,"is_common_supported":false}},{"node_type":"field","loc":{"pos":{"begin":62,"end":67},"file":1,"line":5,"col":12},"body":{"belong":null,"belong_struct":5,"ident":42,"colon_loc":{"pos":{"begin":0,"end":0},"file":0,"line":0,"col":0},"is_state_variable":false,"field_type":43,"arguments":null,"offset_bit":null,"offset_recent":0,"tail_offset_bit":null,"tail_offset_recent":0,"bit_alignment":"not_target","eventual_bit_alignment":"not_target","follow":"unknown","eventual_follow":"unknown","next":null}},{"node_type":"ident","loc":{"pos":{"begin":62,"end":67},"file":1,"line":5,"col":12},"body":{"expr_type":43,"constant_level":"unknown","ident":"value","usage":"define_field","base":41,"scope":10}},{"node_type":"union_type","loc":{"pos":{"begin":62,"end":67},"file":1,"line":5,"col":12},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"not_target","bit_size":null,"cond":11,"candidates":[44,45,46,47],"base_type":10,"common_type":40,"member_candidates":[]}},{"node_type":"union_candidate","loc":{"pos":{"begin":62,"end":67},"file":1,"line":5,"col":12},"body":{"cond":13,"field":26}},{"node_type":"union_candidate","loc":{"pos":{"begin":84,"end":89},"file":1,"line":6,"col":12},"body":{"cond":16,"field":30}},{"node_type":"union_candidate","loc":{"pos":{"begin":107,"end":112},"file":1,"line":7,"col":12},"body":{"cond":19,"field":34}},{"node_type":"union_candidate","loc":{"pos":{"begin":130,"end":135},"file":1,"line":8,"col":12},"body":{"cond":22,"field":38}},{"node_type":"function","loc":{"pos":{"begin":150,"end":152},"file":1,"line":10,"col":4},"body":{"belong":2,"belong_struct":5,"ident":49,"parameters":[],"return_type":51,"body":52,"func_type":50,"is_cast":true,"cast_loc":{"pos":{"begin":0,"end":0},"file":0,"line":0,"col":0}}},{"node_type":"ident","loc":{"pos":{"begin":153,"end":156},"file":1,"line":10,"col":7},"body":{"expr_type":50,"constant_level":"constant","ident":"u64","usage":"define_cast_fn","base":48,"scope":10}},{"node_type":"function_type","loc":{"pos":{"begin":150,"end":152},"file":1,"line":10,"col":4},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":null,"return_type":51,"parameters":[]}},{"node_type":"int_type","loc":{"pos":{"begin":162,"end":165},"file":1,"line":10,"col":16},"body":{"is_explicit":true,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":64,"endian":"unspec","is_signed":false,"is_common_supported":true}},{"node_type":"indent_block","loc":{"pos":{"begin":168,"end":174},"file":1,"line":11,"col":1},"body":{"struct_type":53,"elements":[54],"scope":11}},{"node_type":"struct_type","loc":{"pos":{"begin":168,"end":174},"file":1,"line":11,"col":1},"body":{"is_explicit":false,"non_dynamic_allocation":true,"bit_alignment":"byte_aligned","bit_size":0,"fields":[],"base":48,"recursive":false,"fixed_header_size":0,"fixed_tail_size":0}},{"node_type":"return","loc":{"pos":{"begin":174,"end":180},"file":1,"line":11,"col":7},"body":{"expr":55,"related_function":48}},{"node_type":"ident","loc":{"pos":{"begin":181,"end":186},"file":1,"line":11,"col":14},"body":{"expr_type":43,"constant_level":"unknown","ident":"value","usage":"reference","base":42,"scope":11}},{"node_type":"match","loc":{"pos":{"begin":36,"end":41},"file":1,"line":4,"col":4},"body":{"expr_type":57,"constant_level":"variable","struct_union_type":10,"cond_scope":2,"cond":11,"branch":[58,60,62,64]}},{"node_type":"void_type","loc":{"pos":{"begin":36,"end":41},"file":1,"line":4,"col":4},"body":{"is_explicit":false,"non_dynamic_allocation":false,"bit_alignment":"not_target","bit_size":null}},{"node_type":"match_branch","loc":{"pos":{"begin":57,"end":58},"file":1,"line":5,"col":7},"body":{"belong":56,"cond":13,"sym_loc":{"pos":{"begin":59,"end":61},"file":1,"line":5,"col":9},"then":59}},{"node_type":"scoped_statement","loc":{"pos":{"begin":59,"end":61},"file":1,"line":5,"col":9},"body":{"struct_type":25,"statement":26,"scope":3}},{"node_type":"match_branch","loc":{"pos":{"begin":79,"end":80},"file":1,"line":6,"col":7},"body":{"belong":56,"cond":16,"sym_loc":{"pos":{"begin":81,"end":83},"file":1,"line":6,"col":9},"then":61}},{"node_type":"scoped_statement","loc":{"pos":{"begin":81,"end":83},"file":1,"line":6,"col":9},"body":{"struct_type":29,"statement":30,"scope":5}},{"node_type":"match_branch","loc":{"pos":{"begin":102,"end":103},"file":1,"line":7,"col":7},"body":{"belong":56,"cond":19,"sym_loc":{"pos":{"begin":104,"end":106},"file":1,"line":7,"col":9},"then":63}},{"node_type":"scoped_statement","loc":{"pos":{"begin":104,"end":106},"file":1,"line":7,"col":9},"body":{"struct_type":33,"statement":34,"scope":7}},{"node_type":"match_branch","loc":{"pos":{"begin":125,"end":126},"file":1,"line":8,"col":7},"body":{"belong":56,"cond":22,"sym_loc":{"pos":{"begin":127,"end":129},"file":1,"line":8,"col":9},"then":65}},{"node_type":"scoped_statement","loc":{"pos":{"begin":127,"end":129},"file":1,"line":8,"col":9},"body":{"struct_type":37,"statement":38,"scope":9}}],"scope":[{"owner":0,"ident":[3],"branch":1,"next":null,"prev":null,"branch_root":true},{"owner":2,"ident":[7],"branch":2,"next":10,"prev":0,"branch_root":true},{"owner":56,"ident":[12],"branch":3,"next":4,"prev":1,"branch_root":true},{"owner":58,"ident":[27],"branch":null,"next":4,"prev":2,"branch_root":true},{"owner":56,"ident":[],"branch":5,"next":6,"prev":2,"branch_root":false},{"owner":60,"ident":[31],"branch":null,"next":6,"prev":4,"branch_root":true},{"owner":56,"ident":[],"branch":7,"next":8,"prev":4,"branch_root":false},{"owner":62,"ident":[35],"branch":null,"next":8,"prev":6,"branch_root":true},{"owner":56,"ident":[],"branch":9,"next":10,"prev":6,"branch_root":false},{"owner":64,"ident":[39],"branch":null,"next":10,"prev":8,"branch_root":true},{"owner":2,"ident":[42,49],"branch":11,"next":null,"prev":1,"branch_root":false},{"owner":48,"ident":[55],"branch":null,"next":null,"prev":10,"branch_root":true}]},"error": null}